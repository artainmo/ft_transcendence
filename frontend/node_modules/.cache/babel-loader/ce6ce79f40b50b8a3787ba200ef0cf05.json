{"ast":null,"code":"var _jsxFileName = \"/Users/arthurtainmont/Documents/programming/ft_transcendence/frontend/src/pages/userAccount/authentification.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Home from '../home/home';\nimport { dataBaseAccounts } from '../../types/database';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LogForm = _ref => {\n  _s();\n\n  let {\n    changeState,\n    changeAccount,\n    account,\n    signup\n  } = _ref;\n  let [accountAlreadyInUse, setAccountAlreadyInUse] = useState(false);\n  let [nonExistingAccount, setNonExistingAccount] = useState(false);\n  let [wrongPassword, setWrongPassword] = useState(false);\n  ;\n\n  const onSubmitLogin = () => {\n    if (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase() && e[1] === account.password) !== undefined) {\n      changeState(\"done\");\n      setNonExistingAccount(false);\n    } else if (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase()) !== undefined) {\n      setWrongPassword(true);\n      setNonExistingAccount(false);\n      changeAccount({\n        password: '',\n        avatar: null\n      });\n    } else {\n      setNonExistingAccount(true);\n      setWrongPassword(false);\n      changeAccount({\n        name: '',\n        password: '',\n        avatar: null\n      });\n    }\n  };\n\n  const onSubmitSignup = () => {\n    if (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase()) !== undefined) {\n      changeAccount({\n        name: '',\n        password: '',\n        avatar: null\n      });\n      setAccountAlreadyInUse(true);\n    } else {\n      changeState(\"done\");\n      setAccountAlreadyInUse(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Name:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        required: true,\n        type: \"text\",\n        value: account.name,\n        onChange: e => changeAccount({\n          name: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 111\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 116\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        required: true,\n        type: \"password\",\n        value: account.password,\n        onChange: e => changeAccount({\n          password: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), signup && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 18\n      }, this), signup && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this), signup && /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Download Avatar Image: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 18\n      }, this), signup && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        id: \"fileInput\",\n        onChange: e => e.target.files && changeAccount({\n          avatar: URL.createObjectURL(e.target.files[0])\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 12\n      }, this), accountAlreadyInUse && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This account already exists, try another one\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }, this), nonExistingAccount && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"This account does not exist, try another one\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 30\n      }, this), wrongPassword && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Try another password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        onClick: () => signup ? onSubmitSignup() : onSubmitLogin()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 10\n  }, this);\n};\n\n_s(LogForm, \"VgEkFrHn6AZy/eGWYZ2TpR2os48=\");\n\n_c = LogForm;\n\nconst Signup = _ref2 => {\n  let {\n    changeState,\n    changeAccount,\n    account\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeState(null);\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(LogForm, {\n      changeState: changeState,\n      changeAccount: changeAccount,\n      signup: true,\n      account: account\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 10\n  }, this);\n};\n\n_c2 = Signup;\n\nconst Login = _ref3 => {\n  let {\n    changeState,\n    changeAccount,\n    account\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeState(null);\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(LogForm, {\n      changeState: changeState,\n      changeAccount: changeAccount,\n      signup: false,\n      account: account\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 10\n  }, this);\n};\n\n_c3 = Login;\n\nconst LoginOrSignup = _ref4 => {\n  let {\n    changeState\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Pong Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeState('login');\n      },\n      children: \"Log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\xA0\\xA0\\xA0\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeState('signup');\n      },\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\xA0\\xA0\\xA0\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeState('done');\n      },\n      children: \"Intra 42 login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 10\n  }, this);\n};\n\n_c4 = LoginOrSignup;\n\nconst Authentification = () => {\n  _s2();\n\n  const empty_account = {\n    name: '',\n    password: '',\n    avatar: null,\n    victories: 0,\n    losses: 0,\n    matchHistory: [],\n    friends: [],\n    chatChannels: []\n  };\n  const [loginOrSignup, setLoginOrSignup] = useState(null);\n  const [account, setAccount] = useState(empty_account);\n\n  const changeState = newState => {\n    setLoginOrSignup(newState);\n  };\n\n  const changeAccount = newAccount => {\n    setAccount({ ...account,\n      ...newAccount\n    });\n  };\n\n  const unlog = () => {\n    changeState(null);\n    changeAccount(empty_account);\n  };\n\n  if (loginOrSignup === null) {\n    return /*#__PURE__*/_jsxDEV(LoginOrSignup, {\n      changeState: changeState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }, this);\n  } else if (loginOrSignup === \"done\") {\n    return /*#__PURE__*/_jsxDEV(Home, {\n      account: account,\n      changeAccount: changeAccount,\n      unlog: unlog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }, this);\n  } else if (loginOrSignup === \"signup\") {\n    return /*#__PURE__*/_jsxDEV(Signup, {\n      changeState: changeState,\n      changeAccount: changeAccount,\n      account: account\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }, this);\n  } else if (loginOrSignup === \"login\") {\n    return /*#__PURE__*/_jsxDEV(Login, {\n      changeState: changeState,\n      changeAccount: changeAccount,\n      account: account\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Authentification Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 10\n    }, this);\n  }\n};\n\n_s2(Authentification, \"ImwZg++cuH+N37mRb6ZSqVx3dmM=\");\n\n_c5 = Authentification;\nexport default Authentification; //A user must log in using the OAuth system of 42 intranet\n//A user must be able to activate a 2-factor authentication (like google authenticatoror an SMS etc...)\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"LogForm\");\n$RefreshReg$(_c2, \"Signup\");\n$RefreshReg$(_c3, \"Login\");\n$RefreshReg$(_c4, \"LoginOrSignup\");\n$RefreshReg$(_c5, \"Authentification\");","map":{"version":3,"sources":["/Users/arthurtainmont/Documents/programming/ft_transcendence/frontend/src/pages/userAccount/authentification.tsx"],"names":["React","useState","Home","dataBaseAccounts","LogForm","changeState","changeAccount","account","signup","accountAlreadyInUse","setAccountAlreadyInUse","nonExistingAccount","setNonExistingAccount","wrongPassword","setWrongPassword","onSubmitLogin","find","e","toLowerCase","name","password","undefined","avatar","onSubmitSignup","target","value","files","URL","createObjectURL","Signup","Login","LoginOrSignup","Authentification","empty_account","victories","losses","matchHistory","friends","chatChannels","loginOrSignup","setLoginOrSignup","setAccount","newState","newAccount","unlog"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport accountType from '../../types/accountType';\nimport Home from '../home/home';\nimport { dataBaseAccounts } from '../../types/database';\n\ntype authState = \"login\" | \"signup\" | \"done\" | null;\n\ninterface authProps3 {\n\tchangeState: (newState: authState) => void\n\tchangeAccount: (newAccount: any) => void\n\taccount: accountType\n\tsignup: boolean\n}\n\ninterface authProps2 {\n\tchangeState: (newState: authState) => void\n\tchangeAccount: (newAccount: any) => void\n\taccount: accountType\n}\n\ninterface authProps {\n\tchangeState: (newState: authState) => void\n\tchangeAccount: (newAccount: any) => void\n\taccount: accountType\n\tunlog: () => void\n\tloginOrSignup: authState\n}\n\n\n\nconst LogForm: React.FC<authProps3> = ({ changeState, changeAccount, account, signup }) => {\n\tlet [accountAlreadyInUse, setAccountAlreadyInUse] = useState<boolean>(false);\n\tlet [nonExistingAccount, setNonExistingAccount] = useState<boolean>(false);\n\tlet [wrongPassword, setWrongPassword] = useState<boolean>(false);;\n\n\tconst onSubmitLogin: () => void = () => {\n\t\tif (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase() && e[1] === account.password) !== undefined) {\n\t\t\tchangeState(\"done\");\n\t\t\tsetNonExistingAccount(false);\n\t\t} else if (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase()) !== undefined) {\n\t\t\t\t\t\tsetWrongPassword(true);\n\t\t\t\t\t\tsetNonExistingAccount(false);\n\t\t\t\t\t\tchangeAccount({password: '', avatar: null});\n\t\t} else {\n\t\t\tsetNonExistingAccount(true);\n\t\t\tsetWrongPassword(false);\n\t\t\tchangeAccount({name: '', password: '', avatar: null});\n\t\t}\n\t}\n\n\tconst onSubmitSignup: () => void = () => {\n\t\tif (dataBaseAccounts.find(e => e[0].toLowerCase() === account.name.toLowerCase()) !== undefined) {\n\t\t\tchangeAccount({name: '', password: '', avatar: null});\n\t\t\tsetAccountAlreadyInUse(true);\n\t\t} else {\n\t\t\tchangeState(\"done\");\n\t\t\tsetAccountAlreadyInUse(false);\n\t\t}\n\t}\n\n\treturn (<div>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<label>Name:</label><br/>\n\t\t\t\t\t\t<input required type=\"text\" value={account.name} onChange={(e)=>changeAccount({name: e.target.value})}/><br/><br/>\n\t\t\t\t\t\t<label>Password:</label><br/>\n\t\t\t\t\t\t<input required type=\"password\" value={account.password} onChange={(e)=>changeAccount({password: e.target.value})}/>\n\t\t\t\t\t\t{signup && <br/>}\n\t\t\t\t\t\t{signup && <br/>}\n\t\t\t\t\t\t{signup && <label>Download Avatar Image: </label>}\n\t\t\t\t\t\t{signup && <input type=\"file\" id=\"fileInput\" onChange={(e)=> e.target.files && changeAccount({avatar: URL.createObjectURL(e.target.files[0])})}/>}\n\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t{accountAlreadyInUse && <p>This account already exists, try another one</p>}\n\t\t\t\t\t\t{nonExistingAccount && <p>This account does not exist, try another one</p>}\n\t\t\t\t\t\t{wrongPassword && <p>Try another password</p>}\n\t\t\t\t\t\t<input type=\"submit\" onClick={()=> signup ? onSubmitSignup() : onSubmitLogin()}/>\n\t\t\t\t\t</form>\n\t\t\t\t</div>);\n}\n\nconst Signup: React.FC<authProps2> = ({ changeState, changeAccount, account }) => {\n\treturn (<div>\n\t\t\t\t<button onClick={()=>{changeState(null)}}>Back</button>\n\t\t\t\t<h1>Sign up</h1>\n\t\t\t\t<LogForm changeState={changeState} changeAccount={changeAccount} signup={true} account={account}/>\n\t\t\t</div>);\n}\n\nconst Login: React.FC<authProps2> = ({ changeState, changeAccount, account }) => {\n\treturn (<div>\n\t\t\t\t<button onClick={()=>{changeState(null)}}>Back</button>\n\t\t\t\t<h1>Log in</h1>\n\t\t\t\t<LogForm changeState={changeState} changeAccount={changeAccount} signup={false} account={account}/>\n\t\t\t</div>);\n}\n\nconst LoginOrSignup: React.FC<{changeState: (newState: any) => void}> = ({ changeState }) => {\n\treturn (<div>\n\t\t\t\t<h1>Pong Game</h1>\n\t\t\t\t<button onClick={()=>{changeState('login')}}>Log in</button><>&nbsp;&nbsp;&nbsp;</>\n\t\t\t\t<button onClick={()=>{changeState('signup')}}>Sign up</button><>&nbsp;&nbsp;&nbsp;</>\n\t\t\t\t<button onClick={()=>{changeState('done')}}>Intra 42 login</button>\n\t\t\t</div>);\n}\n\nconst Authentification: React.FC<authProps> = () => {\n\tconst empty_account: accountType = {name: '', password: '', avatar: null, victories: 0, losses: 0, matchHistory: [], friends: [], chatChannels: []};\n\tconst [loginOrSignup, setLoginOrSignup] = useState<authState>(null);\n\tconst [account, setAccount] = useState<accountType>(empty_account);\n\n\tconst changeState: (newState: authState) => void  = (newState) => {\n\t\tsetLoginOrSignup(newState);\n\t}\n\n\tconst changeAccount: (ewAccount: accountType) => void = (newAccount) => {\n\t\tsetAccount({...account, ...newAccount});\n\t}\n\n\tconst unlog: () => void = () => {\n\t\tchangeState(null);\n\t\tchangeAccount(empty_account);\n\t}\n\n\tif (loginOrSignup === null) {\n\t\treturn (<LoginOrSignup changeState={changeState}/>);\n\t} else if (loginOrSignup === \"done\") {\n\t\treturn (<Home account={account} changeAccount={changeAccount} unlog={unlog}/>);\n\t} else if (loginOrSignup === \"signup\") {\n\t\treturn (<Signup changeState={changeState} changeAccount={changeAccount} account={account}/>);\n\t} else if (loginOrSignup === \"login\"){\n\t\treturn (<Login changeState={changeState} changeAccount={changeAccount} account={account}/>);\n\t} else {\n\t\treturn <h1>Authentification Error</h1>;\n\t}\n}\n\n\nexport default Authentification;\n\n//A user must log in using the OAuth system of 42 intranet\n//A user must be able to activate a 2-factor authentication (like google authenticatoror an SMS etc...)\n"]},"metadata":{},"sourceType":"module"}