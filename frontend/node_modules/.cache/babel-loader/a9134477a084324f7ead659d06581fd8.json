{"ast":null,"code":"var _jsxFileName = \"/Users/arthurtainmont/Documents/programming/ft_transcendence/frontend/src/pages/game/play.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { dataBaseGames } from '../../types/database';\nimport PongGame from './components/PongGame';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst dataBaseMaps = ['black', 'white', 'winter', 'summer', 'night'];\n\nconst PreGamePage = _ref => {\n  let {\n    account,\n    changeAccount,\n    getGame,\n    changeGetGame,\n    changeGame,\n    game\n  } = _ref;\n  // let myGame: gameType = game;\n  // const verifySecondPlayer: () => void = () => {\n  //   while (dataBaseGames!.find((item)=>item.players[0] === account.name)!.players[1] === null) {}\n  //   myGame.players[1] = dataBaseGames!.find((item)=>item.players[0] === account.name)!.players[1];\n  //   changeGame(myGame);\n  // }\n  // useEffect(()=>verifySecondPlayer());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeGame(null);\n        getGame === \"join\" && changeGetGame(null);\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Waiting for a second player..\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: `Game ball speed: ${game.ballSpeed}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: `Game map: ${game.map}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 11\n  }, this);\n};\n\n_c = PreGamePage;\n\nconst JoinGame = _ref2 => {\n  _s();\n\n  let {\n    account,\n    changeAccount,\n    changeGetGame,\n    changeGame\n  } = _ref2;\n  let game = undefined;\n\n  const findGame = () => {\n    while (game === undefined) {\n      game = dataBaseGames.find(item => item.players[1] === null);\n    }\n\n    game.players[1] = account.name;\n    console.log(game);\n    changeGame(game);\n  };\n\n  useEffect(() => findGame());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeGetGame(null);\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Searching Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 11\n  }, this);\n};\n\n_s(JoinGame, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c2 = JoinGame;\n\nconst CreateGame = _ref3 => {\n  _s2();\n\n  let {\n    account,\n    changeAccount,\n    changeGetGame,\n    changeGame\n  } = _ref3;\n  const [ballSpeed, setBallSpeed] = useState(1);\n  const [map, setMap] = useState(\"black\");\n\n  const onSubmit = () => {\n    let game;\n    game = {\n      ballSpeed: ballSpeed,\n      map: map,\n      players: [account.name, null]\n    };\n    dataBaseGames.push({\n      ballSpeed: ballSpeed,\n      map: map,\n      players: [account.name, null]\n    });\n    changeGame(game);\n  };\n\n  const changeMap = newMap => {\n    setMap(newMap);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        changeGetGame(null);\n      },\n      children: \"Back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Ball Speed: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\xA0\\xA0\\xA0\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      step: \"1\",\n      min: \"1\",\n      max: \"3\",\n      value: ballSpeed,\n      onChange: e => setBallSpeed(Number(e.target.value)),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Map: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"\\xA0\\xA0\\xA0\"\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"select\", {\n      onChange: e => changeMap(e.target.value),\n      required: true,\n      children: dataBaseMaps.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 42\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 18\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      onClick: () => onSubmit(),\n      children: \"Create Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 11\n  }, this);\n};\n\n_s2(CreateGame, \"zk0c+jqIqeXnB1ozVH1MtqpXb0Y=\");\n\n_c3 = CreateGame;\n\nconst Play = _ref4 => {\n  _s3();\n\n  let {\n    account,\n    changeAccount\n  } = _ref4;\n  const [getGame, setGetGame] = useState(null);\n  const [game, setGame] = useState(null);\n\n  const changeGetGame = page => {\n    setGetGame(page);\n  };\n\n  const changeGame = newGame => {\n    setGame(newGame);\n  };\n\n  if (game !== null && game.players[1] !== null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          changeGame(null);\n          changeGetGame(null);\n        },\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"GAME\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }, this),\n      /*#__PURE__*/\n\n      /* <GamePong account={account} changeAccount={changeAccount} backToPage={backToPage} game={game}/> */\n      _jsxDEV(PongGame, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this);\n  } else if (game !== null) {\n    return /*#__PURE__*/_jsxDEV(PreGamePage, {\n      account: account,\n      changeAccount: changeAccount,\n      getGame: getGame,\n      changeGetGame: changeGetGame,\n      changeGame: changeGame,\n      game: game\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 12\n    }, this);\n  } else if (getGame === null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Play Pong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => changeGetGame(\"create\"),\n        children: \"Create Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: \"\\xA0\\xA0\\xA0\"\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => changeGetGame(\"join\"),\n        children: \"Join Game\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this);\n  } else if (getGame === \"create\") {\n    return /*#__PURE__*/_jsxDEV(CreateGame, {\n      account: account,\n      changeAccount: changeAccount,\n      changeGetGame: changeGetGame,\n      changeGame: changeGame\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 12\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(JoinGame, {\n      account: account,\n      changeAccount: changeAccount,\n      changeGetGame: changeGetGame,\n      changeGame: changeGame\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_s3(Play, \"r16DGHMaa24rLDQIZJybJ1feEHg=\");\n\n_c4 = Play;\nexport default Play;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"PreGamePage\");\n$RefreshReg$(_c2, \"JoinGame\");\n$RefreshReg$(_c3, \"CreateGame\");\n$RefreshReg$(_c4, \"Play\");","map":{"version":3,"sources":["/Users/arthurtainmont/Documents/programming/ft_transcendence/frontend/src/pages/game/play.tsx"],"names":["React","useState","useEffect","dataBaseGames","PongGame","dataBaseMaps","PreGamePage","account","changeAccount","getGame","changeGetGame","changeGame","game","ballSpeed","map","JoinGame","undefined","findGame","find","item","players","name","console","log","CreateGame","setBallSpeed","setMap","onSubmit","push","changeMap","newMap","e","Number","target","value","Play","setGetGame","setGame","page","newGame"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport accountType from '../../types/accountType';\nimport { dataBaseGames } from '../../types/database';\nimport PongGame from './components/PongGame';\n\nconst dataBaseMaps = ['black', 'white', 'winter', 'summer', 'night'];\n\ninterface gameType {\n  ballSpeed: number\n  map: string\n  players: (string | null)[]\n}\n\ninterface playProps3 {\n  account: accountType\n  changeAccount: (newAccount: accountType) => void\n  changeGetGame: (page: \"create\" | \"join\" | null) => void\n  changeGame: (newGame: gameType | null) => void\n}\n\ninterface playProps2 {\n  account: accountType\n  changeAccount: (newAccount: accountType) => void\n  getGame: \"create\" | \"join\" | null\n  changeGetGame: (page: \"create\" | \"join\" | null) => void\n  changeGame: (newGame: gameType | null) => void\n  game: gameType\n}\n\ninterface playProps {\n  account: accountType\n  changeAccount: (newAccount: accountType) => void\n}\n\nconst PreGamePage: React.FC<playProps2> = ({ account, changeAccount, getGame, changeGetGame, changeGame, game }) => {\n  // let myGame: gameType = game;\n\n  // const verifySecondPlayer: () => void = () => {\n  //   while (dataBaseGames!.find((item)=>item.players[0] === account.name)!.players[1] === null) {}\n  //   myGame.players[1] = dataBaseGames!.find((item)=>item.players[0] === account.name)!.players[1];\n  //   changeGame(myGame);\n  // }\n\n  // useEffect(()=>verifySecondPlayer());\n  return (<div>\n            <button onClick={()=>{changeGame(null); (getGame === \"join\" && changeGetGame(null))}}>Back</button>\n            <h1>Waiting for a second player..</h1>\n            <p>{`Game ball speed: ${game.ballSpeed}`}</p>\n            <p>{`Game map: ${game.map}`}</p>\n          </div>)\n}\n\nconst JoinGame: React.FC<playProps3> = ({ account, changeAccount, changeGetGame, changeGame }) => {\n  let game: gameType | undefined = undefined;\n\n  const findGame: () => void = () => {\n    while (game === undefined) {\n      game = dataBaseGames.find((item)=>item.players[1] === null);\n    }\n    game!.players[1] = account.name;\n    console.log(game);\n    changeGame(game);\n  }\n\n  useEffect(()=>findGame());\n  return (<div>\n            <button onClick={()=>{changeGetGame(null)}}>Back</button>\n            <h1>Searching Game</h1>\n          </div>)\n}\n\nconst CreateGame: React.FC<playProps3> = ({ account, changeAccount, changeGetGame, changeGame }) => {\n  const [ballSpeed, setBallSpeed] = useState<number>(1);\n  const [map, setMap] = useState<string>(\"black\");\n\n  const onSubmit: () => void = () => {\n    let game: gameType;\n\n    game = {ballSpeed: ballSpeed, map: map, players: [account.name, null]};\n    dataBaseGames.push({ballSpeed: ballSpeed, map: map, players: [account.name, null]});\n    changeGame(game);\n  }\n\n  const changeMap: (newMap: string) => void = (newMap) => {\n    setMap(newMap);\n  }\n\n  return (<form>\n            <button onClick={()=>{changeGetGame(null)}}>Back</button>\n            <h1>Create Game</h1>\n            <label>Ball Speed: </label><>&nbsp;&nbsp;&nbsp;</>\n            <input type=\"number\" step=\"1\" min=\"1\" max=\"3\" value={ballSpeed} onChange={(e)=>setBallSpeed(Number(e.target.value))} required/>\n            <br/><br/>\n            <label>Map: </label><>&nbsp;&nbsp;&nbsp;</>\n            <select onChange={(e)=>changeMap(e.target.value)} required>\n              {dataBaseMaps.map((item)=> <option>{item}</option>)}\n            </select>\n            <br/><br/>\n            <button type=\"submit\" onClick={()=>onSubmit()}>Create Game</button>\n          </form>)\n}\n\nconst Play: React.FC<playProps> = ({ account, changeAccount }) => {\n  const [getGame, setGetGame] = useState<\"create\" | \"join\" | null>(null);\n  const [game, setGame] = useState<gameType | null>(null);\n\n  const changeGetGame: (page: \"create\" | \"join\" | null) => void = (page) => {\n    setGetGame(page)\n  }\n\n  const changeGame: (newGame: gameType | null) => void = (newGame) => {\n    setGame(newGame);\n  }\n\n  if (game !== null && game.players[1] !== null) {\n    return (<div>\n              <button onClick={()=>{changeGame(null); changeGetGame(null);}}>Back</button>\n              <h1>GAME</h1>\n              {/* <GamePong account={account} changeAccount={changeAccount} backToPage={backToPage} game={game}/> */\n                <PongGame />\n              }\n            </div>);\n  } else if (game !== null) {\n    return <PreGamePage account={account} changeAccount={changeAccount} getGame={getGame} changeGetGame={changeGetGame} changeGame={changeGame} game={game}/>;\n  } else if (getGame === null) {\n    return (<div>\n              {/* <button onClick={()=>{backToPage(\"home\")}}>Back</button> */}\n              <h1>Play Pong</h1>\n              <button onClick={()=>changeGetGame(\"create\")}>Create Game</button><>&nbsp;&nbsp;&nbsp;</>\n              <button onClick={()=>changeGetGame(\"join\")}>Join Game</button>\n            </div>);\n  } else if (getGame === \"create\") {\n    return <CreateGame account={account} changeAccount={changeAccount} changeGetGame={changeGetGame} changeGame={changeGame}/>\n  } else {\n    return <JoinGame account={account} changeAccount={changeAccount} changeGetGame={changeGetGame} changeGame={changeGame}/>\n  }\n}\n\n\nexport default Play\n"]},"metadata":{},"sourceType":"module"}